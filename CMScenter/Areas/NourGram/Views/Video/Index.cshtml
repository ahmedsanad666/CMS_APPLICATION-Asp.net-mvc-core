@model CMScenter.Views.Models.NourViewModel
  @{  ViewData["Title"] = "Video";

    Layout = "~/Views/Shared/_NourLayout.cshtml";

    var videoData = ViewBag.VideoData;

}

@functions {
    public string videoId(string link)
    {
        Uri uri = new Uri(link);
        string path = uri.AbsolutePath;

        // Get the video ID from the path
        string VideoId = path.Substring(1);

        return VideoId;
    }
}

<section class="videoPage">
   
        <div class="row min-vh-100">
            <div class="col-lg-8 col-12 px-5 ">
                <div class="d-flex flex-column gap-3">

               
                    <div class="video ">

                     @Html.Raw(videoData.embed.html)

               
                    </div>
                    <div class="Description">
                        des
                    </div>
                        <div class="Comments">
                            dsfkj
                            dsfj
                            ds

                        </div>
                 </div>
              </div>
         <div class="col py-3 gap-3">
            @foreach (var el in Model.videos)
            {
             
                <div>
                    <a asp-area="NourGram" asp-controller="Video" asp-action="Index" asp-route-id="@videoId(el.Link)">




                        <div class="card">
                            <div class="card__header">
                                <img src="@el.Thumbnail" alt="card__image" class="card__image" width="600">
                            </div>
                            <div class="card__body">
                                <span class="tag tag-blue">@el.VideoCat.EnName</span>
                                <h5>@el.EnTitle</h5>

                            </div>
                            <div class="card__footer">
                                <div class="user">
                                    <img src="@el.Contributor.ProfileImage" alt="user__image" class="user__image">
                                    <div class="user__info">

                                        <h6>@el.Contributor.EnName</h6>
                                        <small>2h ago</small>
                                    </div>
                                </div>

                                <div>
                                    <small>
                                        350k  views
                                    </small>
                                </div>
                            </div>
                        </div>
                    </a>

               </div>

            }
                    
        </div>
        </div>
           
        <div/>
       

</section>